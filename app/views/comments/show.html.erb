<% if @comment.comment.present? %>
  <%= render "app/lineage", line: { comment: @comment.comment, reply: @comment } %>
<% elsif @comment.post.present? %>
  <%= render "app/lineage", line: { group: @comment.post.group, post: @comment.post, comment: @comment } %>
<% elsif @comment.proposal.present? %>
  <%= render "app/lineage", line: { group: @comment.proposal.group, proposal: @comment.proposal } %>
<% elsif @comment.vote %>
  <%= render "app/lineage", line: { group: @comment.vote.proposal.group,
    proposal: @comment.vote.proposal, vote: @comment.vote, comment: @comment } %>
<% end %>

<%= render "comments/card", comment: @comment %>

<% for reply in @replies %>
  <%= render "comments/card", comment: reply %>
<% end %>

<%= render 'comments/form' %>
